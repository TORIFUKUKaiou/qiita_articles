---
title: >-
  FLEXISPOT スタンディングデスク 電動式 昇降デスク ＆ 天板
  を組み立てた話とNerves.Runtime.serial_number/0と5678 (Elixir)
tags:
  - Elixir
  - Nerves
  - 40代駆け出しエンジニア
private: false
updated_at: '2021-07-11T15:24:02+09:00'
id: 20b1b059f7da76de04bd
organization_url_name: fukuokaex
slide: false
ignorePublish: false
---
# はじめに
- [Elixir](https://elixir-lang.org/)楽しんでいますか:bangbang::bangbang::bangbang:
- 私は立った姿勢で[Elixir](https://elixir-lang.org/)を楽しんでいます！
    - そうです！
    - 私は
    - 2020年の[プレゼントカレンダー](https://qiita.com/advent-calendar/2020/categories/sponsor)において
    - <font color="purple">$\huge{日本マイクロソフト賞 ④}$</font>
    - を受賞しちゃったりなんちゃったりして、**FLEXISPOT スタンディングデスク 電動式 昇降デスク ＆ 天板** をいただきました
    - もう一回いいます
    - [日本マイクロソフト賞④](https://qiita.com/chomado/items/7d1f757f18c5b442fadd#%E3%83%9E%E3%82%A4%E3%82%AF%E3%83%AD%E3%82%BD%E3%83%95%E3%83%88%E8%B3%9E-%E3%82%AF%E3%83%A9%E3%82%A6%E3%83%89%E3%83%8D%E3%82%A4%E3%83%86%E3%82%A3%E3%83%96%E3%81%AE-aspnet-core-%E3%83%9E%E3%82%A4%E3%82%AF%E3%83%AD%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E3%82%92%E4%BD%9C%E6%88%90%E3%81%97%E3%81%A6%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E3%81%99%E3%82%8B-%E3%82%92%E3%82%84%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B-torifukukaiou-%E3%81%95%E3%82%93) を受賞しました
        - 1年間くらい言い続けるつもりです
        - <font color="purple">$\huge{ありがとうございます！！！}$</font>
- せっかく記事書くならとゲリラ的にはじめた 2021/01/30(土) [autoracex #6](https://autoracex.connpass.com/event/203027/)の成果です
    - 19:18現在、3名の方にご参加いただいています！

# 組み立てまでの流れ
- 2021/01/13(水) 腰を痛めてしまい、朝休みをとって通(痛!?)院
    - 毎年寒くなると痛めるのですよね…… :man::man_tone1::man_tone2::man_tone3::man_tone4::man_tone5:  
- 2021/01/15(金) 19:00〜の[Qiita Advent Calendar Online Meetup](https://connpass.com/event/197484/)に参加していて受賞を知りました
    - [Elixir](https://elixir-lang.org/)に入信しているとプレゼンターの方に評してもらいました
    - <font color="purple">$\huge{Exactly}$</font>
    - 奇しくも腰によさそうなものが当たってしまいました！
- 2021/01/19(火) 12:20に、Qiitaサポートチームの方からご連絡をいただきました
- 2021/01/19(火) 13:50に、私からQiitaサポートチームへ住所を返信
- 2021/01/21(木) 20:25に、発送したとQiitaサポートチームの方からご連絡をいただきました
- 2021/01/23(土) 宅配業者から<font color="purple">「本当にご自宅用なのですか？　すごく大きいですよ」</font>というような電話が自宅にかかってきました
    - 「いや〜、プレゼントが当たっちゃってしまってですね〜」と、宅配業者にはなんらの意味のない言い訳みたいなことをしました
    - **いまから持っていくから、必ず家に居てくださいよと念押しされる**
- 2021/01/23(土) 夕方、到着。うん確かに<font color="purple">$\huge{デカイ}$</font>
    - 天板が **150 x 70** ある
- そのまま一週間放置
    - 家に不釣り合いの大きさだから、アレをナニした方がいいんじゃないかと知人や家族から言われる
        - そんなにでかいとアレをナニするときも送料は自己負担でしょうね〜　とかそういうのに詳しい人にアドバイスをもらう
    - けっこう重い
    - 組み立てるのに腰を痛めてしまいそう
- 2021/01/29(金) 腰の調子がよくなる(あんまり気にならなくなる)
- 2021/01/30(土) 意を決して組み立てる
    - いままでつかっていた机は片付ける
    - だって、そんな場所ないんだもん……
    - いきなりガチャガチャやりはじめたものだから、家族とは言い争いに……
    - <font color="purple">$\huge{「手伝ってもらわんでいい！　一人で組み立てる！」}$</font>
    - とかキレたりなんたりしたけど、とても一人でできるような代物ではなく……
    - 最後は家族と協力して組み立て完了
    - 雨降って地固まるとでも申しましょうか、より絆が強くなった一日でした
    - その後、「[北の国から](https://fod.fujitv.co.jp/s/psearch/?keyword=%E5%8C%97%E3%81%AE%E5%9B%BD%E3%81%8B%E3%82%89)」をみたのがよかったのかも
    - 若干、腰に違和感がまた出始めたような気がするのは気のせいだろうか、うん気のせいだろう、香水のせいだろう

## berfore
![IMG_20210130_111335.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/d6005665-9c72-9f69-0af0-afb5d870b8d6.jpeg)


## after
![IMG_20210130_144449.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/a088e754-3684-dc25-e72c-53a041469f15.jpeg)

- 世界地図の位置は変えていません
- 机が上にあがったのです


# はい、ここからは[Elixir](https://elixir-lang.org/)の話です
- [Nerves](https://www.nerves-project.org/)の話さ
- 以前、「[nerves-<4 digit serial#>.local (Elixir/Nerves)](https://qiita.com/torifukukaiou/items/8ddcdd58b515ee114dbc)」という記事を書きました
- その中で`<4 digit serial#>`の取得方法を以下のように紹介しました
    - すっきりとしたコードにしてくれたのは、@mnishiguchi さんです！
    - Thanks!

```elixir
$ ssh nerves.local

iex> (
File.read!("/proc/cpuinfo")
|> String.split("\n")
|> Enum.find(&String.starts_with? &1, "Serial")
|> String.slice(-4..-1)
)
```



- で、さらに@mnishiguchi さんが、[Nerves.Runtime.serial_number/0](https://hexdocs.pm/nerves_runtime/Nerves.Runtime.html#serial_number/0)というのがあるよということを教えてくれました！
    - Thanks!!!
- で、ここまでのことは「[nerves-<4 digit serial#>.local (Elixir/Nerves)](https://qiita.com/torifukukaiou/items/8ddcdd58b515ee114dbc)」を更新したのでそれはそれでよいのですが、令和2年がすぎて令和3年だというのにいまだに現役でつかっている私のRaspberry Pi 2くんが妙なことを言うのでごわすよ

```elixir
$ ssh 192.168.1.9

iex> Nerves.Runtime.serial_number
"5678"
```

- このまえは`c3xx`みたいな値だった気がするから変わったのかな？　それにしても、`5678`って妙だなあーとおもっていました
- 少し考えてピーン💡ときました
- これも手前味噌ですが以前、「[NervesKeyなしでNervesHubからOTAでファームウェア更新をしてみる(Elixir)](https://qiita.com/torifukukaiou/items/1e2018e949d4e8e0fe48)」という記事を書いたことがあります
- [NervesJP](https://join.slack.com/t/nerves-jp/shared_invite/enQtNzc0NTM1OTA5MzQ1LTg5NTAyYThiYzRlNDRmNDIwM2ZlZTJiZDc1MmE5NTFjYzA5OTE4ZTM5OWQxODFhZjY1NWJmZTc4NThkMjQ1Yjk)のSlackでこの記事を引用してもらいつつ、質問がでていたので、もう一回自分でなぞっていました
    - NervesHubがMakeupして全然違うものにみえるので画像変えたり、いい加減に書いていたところを加筆・修正したりとか、それはそれでおいおいやりたいとおもいました
    - それは一旦おもいました　でおいておいて
- この記事をなぞっているときに、`mix nerves_hub.device burn 5678`って、初回microSDへのファームウェア焼きをやったのでありますよ
- あ〜、きっとこの`5678`ですね
- ちなみに`Nerves.Runtime.serial_number`の結果は`5678`でしたけど、`File.read!("/proc/cpuinfo")`してアレしてナニして取得した値は以前とかわらず`c3xx`みたいな感じでした

# Wrapping Up 🎍🎍🎍🎍🎍
- [Nerves](https://www.nerves-project.org/)やる人は、[Nerves.Runtime.serial_number/0](https://hexdocs.pm/nerves_runtime/Nerves.Runtime.html#serial_number/0)を覚えておくといいことあるかも！
    - デフォルトはボードの製造番号の下４桁
    - ユーザーが何らこの方法で指定したらそれがシリアル番号となる
        - @mnishiguchi さんの[まとめ](https://qiita.com/torifukukaiou/items/20b1b059f7da76de04bd#comment-279748dfee7a2cca05e1)を拝借 :pray::pray_tone1::pray_tone2::pray_tone3::pray_tone4::pray_tone5: 
- [Nerves](https://www.nerves-project.org/)のことが気になった、そこのあなた、ユー、ユー、ユー
    - [Nerves](https://www.nerves-project.org/)は[Elixir](https://elixir-lang.org/)のIoTでナウでヤングなcoolなすごいヤツです🚀🚀🚀
- [NervesJPのSlack](https://join.slack.com/t/nerves-jp/shared_invite/enQtNzc0NTM1OTA5MzQ1LTg5NTAyYThiYzRlNDRmNDIwM2ZlZTJiZDc1MmE5NTFjYzA5OTE4ZTM5OWQxODFhZjY1NWJmZTc4NThkMjQ1Yjk)へどうぞ参加してください
    - 愉快なfolksたちが大歓迎です

![https___qiita-user-contents.imgix.net_https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F240349%2F5ef22bb9-f357-778c-1bff-b018cce54948.png_ixlib=rb-1.2.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/447253f9-3060-8bb7-7132-7754ef4aead5.png)
