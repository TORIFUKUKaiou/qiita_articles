---
title: Phoenix.LiveView.Socket ... show
tags:
  - Elixir
  - Phoenix
  - LiveView
  - autoracex
private: false
updated_at: '2021-12-26T07:49:31+09:00'
id: 07ce15066914e86f1213
organization_url_name: fukuokaex
slide: false
ignorePublish: false
---
https://qiita.com/advent-calendar/2021/gseach

2021/12/20(æœˆ)ã®å›ã§ã™ã€‚

å‰æ—¥ã¯ã€@michimichix521 ã•ã‚“ã«ã‚ˆã‚‹ã€Œ[ã€C#.NETã€‘è¨€èªã«ã‚ˆã£ã¦æŒ™å‹•ãŒå¤‰ã‚ã‚‹](https://qiita.com/michimichix521/items/8d276acd3a7906b34c24)ã€ã§ã—ãŸã€‚

> .NETã§ã¯ã€æ—¥ä»˜ã€æ•°å€¤ã€ãŠã‚ˆã³é€šè²¨ã®æ›¸å¼è¨­å®šãªã©ã€è¨€èªã«ä¾å­˜ã™ã‚‹ã¨ã®ã“ã¨ã§ã™...

**Ohã€œã€ã‚°ã‚°ã‚Šã¥ã‚‰ãã†ã§ã™ã€‚**

---

# ã¯ã˜ã‚ã«
[Elixir](https://elixir-lang.org/)ã‚’æ¥½ã—ã‚“ã§ã„ã¾ã™ã‹:bangbang::bangbang::bangbang:
[Phoenix LiveView](https://github.com/phoenixframework/phoenix_live_view)ã‚’æ¥½ã—ã‚“ã§ã„ã¾ã™ã‹:bangbang::bangbang::bangbang:

::: note
ã“ã®è¨˜äº‹ã¯ã€ä»Šå¾Œå°†æ¥ã©ãªãŸã‹ãŒã€ç§ã¨åŒã˜ã“ã¨ã‚’ã‚°ã‚°ã£ã¦ã‚³ã‚³ã«ãŸã©ã‚Šã¤ãã€ãã®æ–¹ã®æ™‚é–“ã‚’æ•‘ã†ã“ã¨ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚
ã‚°ã‚°ã£ã¦ãŸã©ã‚Šç€ã„ãŸæ–¹ã¯ãœã²ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ã«è¶³è·¡(å¤ã„:interrobang:)ã‚’æ®‹ã—ã¦ãã ã•ã„ã€‚
:::

# Phoenix.LiveView.Socketã®...

ã€€ã“ã“ãŒã“ã®è¨˜äº‹ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆã§ã™ã€‚
[Phoenix LiveView](https://github.com/phoenixframework/phoenix_live_view)ã‚’ä½¿ã£ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚ˆãã‚ã‚‹ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚

```elixir
defmodule AutoracePhoenixWeb.PlayerLive do
  use AutoracePhoenixWeb, :live_view

  def mount(_params, _session, socket) do
    IO.inspect(socket)
    {:ok, socket}
  end
```

`socket`ã£ã¦ãªã«ã ã£ã‘ï¼Ÿã€€ã¨ã„ã†ã“ã¨ã§ã€[IO.inspect](https://hexdocs.pm/elixir/IO.html#inspect/2)ã§ã¿ã¦ã¿ã¾ã™ã€‚

```elixir
#Phoenix.LiveView.Socket<
  assigns: %{__changed__: %{}, flash: %{}, live_action: nil},
  endpoint: AutoracePhoenixWeb.Endpoint,
  id: "phx-FrrJ-zwNVe_GPAKh",
  parent_pid: nil,
  root_pid: #PID<0.709.0>,
  router: AutoracePhoenixWeb.Router,
  transport_pid: #PID<0.705.0>,
  view: AutoracePhoenixWeb.PlayerLive,
  ...
>
```

Phoenix.LiveView.Socketæ§‹é€ ä½“ãªã®ã­ã€‚

<font color="purple">$\huge{...ã‚’ã¿ãŸã„ã€‚}$</font>
<font color="purple">$\huge{...ã‚’ã¿ãŸã„ã€‚}$</font>
<font color="purple">$\huge{...ã‚’ã¿ãŸã„ã€‚}$</font>


# `Phoenix.LiveView.Socket ... show`

ã‚°ã‚°ã£ã¦ã¿ã‚‹ã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2021-11-25 21.51.05.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/dd30b4d7-5fa4-2f10-af40-316f2034bd9c.png)

ä¸€å¿œã€Bingã£ã¦ã¿ã‚‹ã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2021-11-25 21.51.57.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/b8f98280-d7c9-b453-b4d9-32ee90294609.png)


# ç­”ãˆ

```elixir
IO.inspect(socket |> Map.from_struct())
```

[Map.from_struct/1](https://hexdocs.pm/elixir/Map.html#from_struct/1)ã‚’ä½¿ã†ã“ã¨ã‚’ã€@piacerexã•ã‚“ã«æ•™ãˆã¦ã„ãŸã ãã¾ã—ãŸ :thumbsup::thumbsup_tone1::thumbsup_tone2::thumbsup_tone3::thumbsup_tone4::thumbsup_tone5:
2021/11/24(æ°´)ã®ã€Œ[EDI#9ï¼šå„ç¨®Elixirã‚‚ãã‚‚ãä¼šã§ã‚„ã£ãŸã“ã¨æŒã¡å¯„ã‚‹ä¼š](https://fukuokaex.connpass.com/event/231753/)ã€ãŠã‚ˆã³2021/11/25(æœ¨)ã®ã€Œ[LiveView JP#1ï¼šã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ç™ºè¶³è¨˜å¿µLTä¼šã€ãã—ã¦LiveViewãƒ¢ãƒ–ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°é–‹å§‹](https://liveviewjp.connpass.com/event/231755/)ã€ã§ã®ã“ã¨ã§ã™ã€‚

```elixir
%{
  assigns: %{__changed__: %{}, flash: %{}, live_action: nil},
  endpoint: AutoracePhoenixWeb.Endpoint,
  fingerprints: {nil, %{}},
  host_uri: %URI{
    authority: nil,
    fragment: nil,
    host: "localhost",
    path: nil,
    port: 4000,
    query: nil,
    scheme: "http",
    userinfo: nil
  },
  id: "phx-FrrLKQaH8be47gTh",
  parent_pid: nil,
  private: %{
    __changed__: %{},
    assign_new: {%{}, []},
    connect_info: %{session: %{"_csrf_token" => "sTJcKoxw6VIpF7LBS6tqNTQy"}},
    connect_params: %{
      "_csrf_token" => "IGENNRoaLydlLCgnGUJ0ChoCRz19AxUPS5GVQuWPSzaW_u8HI43L3WDv",
      "_mounts" => 0,
      "_track_static" => ["http://localhost:4000/assets/app.css",
       "http://localhost:4000/assets/app.js"]
    },
    lifecycle: %Phoenix.LiveView.Lifecycle{
      handle_event: [],
      handle_info: [],
      handle_params: [],
      mount: []
    },
    root_view: AutoracePhoenixWeb.PlayerLive
  },
  redirected: nil,
  root_pid: #PID<0.798.0>,
  router: AutoracePhoenixWeb.Router, 
  transport_pid: #PID<0.795.0>,
  view: AutoracePhoenixWeb.PlayerLive
}
```

æ§‹é€ ä½“ã‚’[Map.from_struct/1](https://hexdocs.pm/elixir/Map.html#from_struct/1)é–¢æ•°ã§Mapã«å¤‰æ›ã—ã¦å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚
`...` ã¿ãˆã¾ã—ãŸ :tada::tada::tada:

<font color="purple">$\huge{...ã¿ãˆã¾ã—ãŸğŸ‰}$</font>
<font color="purple">$\huge{...ã¿ãˆã¾ã—ãŸğŸ‰}$</font>
<font color="purple">$\huge{...ã¿ãˆã¾ã—ãŸğŸ‰}$</font>

---

ä»¥ä¸Šã§ã€Œ[ã‚°ã‚°ã£ã¦è§£æ±ºã—ã¥ã‚‰ã‹ã£ãŸã“ã¨](https://qiita.com/advent-calendar/2021/gseach)ã€ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å‘ã‘ã®è¨˜äº‹ã¨ã—ã¦ã¯çµ‚ã‚ã‚Šã§ã™ã€‚
ã›ã£ã‹ãã§ã™ã®ã§ã€[Phoenix LiveView](https://github.com/phoenixframework/phoenix_live_view)ã«ã¤ã„ã¦ã®èª¬æ˜ã‚’ã—ã¾ã™ã€‚


# What's [LiveView](https://github.com/phoenixframework/phoenix_live_view)?

[LiveView](https://github.com/phoenixframework/phoenix_live_view)ã¨ã¯ä½•ã‹ã‚’èª¬æ˜ã—ã¾ã™ã€‚
ãã®å‰ã«ã€[Elixir](https://elixir-lang.org/)ã¨[Phoenix](https://www.phoenixframework.org/)ã®èª¬æ˜ã‚’ã—ã¾ã™ã€‚

## [Elixir](https://elixir-lang.org/)

[Elixir](https://elixir-lang.org/)ã¨ã„ã†ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªãŒã‚ã‚Šã¾ã™ã€‚
ä¸–ä¿—æ´¾é–¢æ•°å‹è¨€èª[^1]ã«åˆ†é¡ã•ã‚Œã¾ã™ã€‚
ä»¥ä¸‹ã€[Qiita API](https://qiita.com/api/v2/docs)ã§è¨˜äº‹ã‚’å–å¾—ã™ã‚‹[Elixir](https://elixir-lang.org/)ã§ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ä¾‹ã§ã™ã€‚
[|>](https://hexdocs.pm/elixir/Kernel.html#%7C%3E/2)ã¯ãƒ‘ã‚¤ãƒ—æ¼”ç®—å­ã¨å‘¼ã°ã‚Œã‚‹ã‚‚ã®ã§ã€[Elixir](https://elixir-lang.org/)ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã¯ã‚ˆãä½¿ã‚ã‚Œã¾ã™ã€‚
å‰ã®é–¢æ•°ã®çµæœã‚’æ¬¡ã®é–¢æ•°ã®ç¬¬ä¸€å¼•æ•°ã«å…¥ã‚Œã¦ãã‚Œã¾ã™ã€‚

[^1]: @kikuyuta å…ˆç”Ÿã®ã€Œ[ä¸–ä¿—æ´¾é–¢æ•°å‹è¨€èª Elixir ã‚’é–¢æ•°å‹è¨€èªé¢¨ã«ä½¿ã£ã¦ã¿ãŸã‚‰ã‚„ã£ã±ã‚Šé–¢æ•°å‹è¨€èªã¿ãŸã„ã ã£ãŸ](https://qiita.com/kikuyuta/items/afa4c264720eb29d9760)ã€ã‚ˆã‚Šã€‚[Elixir](https://elixir-lang.org/)ã¯ã‚³ãƒ¯ããªã„ã§ã™ã‚ˆã€œã€‚ãªã‚“ã¨ãªãçŸ¥ã‚‰ãªã„é–“ã«ã‚†ã‚‹ãµã‚ã§ã€Œã‚¢ã‚¿ã‚·ã€é–¢æ•°å‹è¨€èªã§ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã—ã¡ã‚ƒã£ã¦ã¾ã—ãŸã€ ã¦ãªå…·åˆã«ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’æ¥½ã—ã‚ã¾ã™ã€‚

```elixir
Mix.install([{:jason, "~> 1.2"}, {:httpoison, "~> 1.8"}])

"https://qiita.com/api/v2/items?query=elixir"
|> HTTPoison.get!([], [timeout: 50_000, recv_timeout: 50_000])
|> Map.get(:body)
|> Jason.decode!()
|> Enum.map(& Map.take(&1, ["title", "url"]))
|> IO.inspect()
```

ä¸Šã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ æ–­ç‰‡ã§ã‚‚ä½¿ã£ã¦ãŠã‚Šã¾ã™[Enum](https://hexdocs.pm/elixir/Enum.html#content)ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ç†è§£ã¯ã€[Elixir](https://elixir-lang.org/)ã‚’ã¯ã˜ã‚ãŸã¨ãã«ã„ã®ä¸€ç•ªã§ã‚„ã‚‹ã¨ã‚‚ã£ã¨ã‚‚åŠ¹ç‡ã‚ˆãå­¦ã¹ã¾ã™ã€‚
@cooldaemon ã•ã‚“ã®ã€Œ[ç§ãŒæ„›ã™ã‚‹ Elixir/Erlang ã®æ¥½ã—ã•ã¨è¾›ã•](https://speakerdeck.com/cooldaemon/erlang-falsele-sisatoxin-sa)ã€ã‚¹ãƒ©ã‚¤ãƒ‰ã«ãã®ç†ç”±ãŒè©³ã—ãæ›¸ã„ã¦ã‚ã‚Šã¾ã™ã€‚

## [Phoenix](https://www.phoenixframework.org/)

[Elixir](https://elixir-lang.org/)ã§Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã‚’**æ¥½ã—ã‚€**ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒã€[Phoenix](https://www.phoenixframework.org/)ã§ã™ã€‚

## [LiveView](https://github.com/phoenixframework/phoenix_live_view)

> Phoenix LiveView enables rich, real-time user experiences with server-rendered HTML.

---

> The most fun you'll ever have building interactive web applications. We guarantee it.

[Elixir](https://elixir-lang.org/)ã‚’è¦šãˆã‚‹ã ã‘ã§ã€é«˜æ€§èƒ½ãªãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚‚ãƒªãƒƒãƒãªãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚‚ä¸¡æ–¹**æ¥½ã—ã**ã¤ãã‚Œã¡ã‚ƒã†ã‚“ã§ã™ã€‚

<font color="purple">$\huge{ä¸¡æ–¹æ¥½ã—ãã¤ãã‚Œã¡ã‚ƒã†ã‚“ã§ã™}$</font>
<font color="purple">$\huge{ä¸¡æ–¹æ¥½ã—ãã¤ãã‚Œã¡ã‚ƒã†ã‚“ã§ã™}$</font>
<font color="purple">$\huge{ä¸¡æ–¹æ¥½ã—ãã¤ãã‚Œã¡ã‚ƒã†ã‚“ã§ã™}$</font>

<font color="purple">$\huge{Enjoy\ ElixirğŸš€ğŸš€ğŸš€}$</font>

# ãŠã¾ã‘

[Elixir](https://elixir-lang.org/)ã‚’å§‹ã‚ã¦ã¿ã‚ˆã†ï¼ã€€ã¨ãŠã‚‚ã£ãŸã€ã‚ãªãŸã«å‚è€ƒæƒ…å ±(ã‚¯ãƒªã‚¹ãƒã‚¹ğŸ„ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ)ã‚’è´ˆã‚Šã¾ã™ã€‚:gift::gift::gift:
**æ€ã„ç«‹ã£ãŸãŒå‰æ—¥ã§ã™!!!**

## ã‚ªã‚¹ã‚¹ãƒ¡ã®æ›¸ç± :books: 
- [ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°Elixirï¼ˆç¬¬2ç‰ˆï¼‰](https://www.ohmsha.co.jp/book/9784274226373/) -- ã‚ªãƒ¼ãƒ ç¤¾
- [Elixirå®Ÿè·µã‚¬ã‚¤ãƒ‰](https://book.impress.co.jp/books/1120101021) -- ã‚¤ãƒ³ãƒ—ãƒ¬ã‚¹
- [ã‚¢ãƒ«ã‚±ãƒŸã‚¹ãƒˆ å¤¢ã‚’æ—…ã—ãŸå°‘å¹´](https://www.kadokawa.co.jp/product/199999275001/) -- è§’å·æ–‡åº«

## Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ¥½ã—ã‚€ãªã‚‰
- [Phoenix](https://www.phoenixframework.org/)

## IoTã‚’æ¥½ã—ã‚€ãªã‚‰
- [Nerves](https://www.nerves-project.org/)

## AIã‚’æ¥½ã—ã‚€ãªã‚‰
- [Nx](https://github.com/elixir-nx/nx) + [Livebook](https://github.com/livebook-dev/livebook)

## ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£
-  [elixir.jp](https://join.slack.com/t/elixirjp/shared_invite/zt-ae8m5bad-WW69GH1w4iuafm1tKNgd~w) Slack workspaceã«å‚åŠ ã—ã¦ã¿ã¦ãã ã•ã„
    - ãƒãƒ‚ã€ã‚„ã•ã—ã„äººã°ã£ã‹ã‚Šã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£
    - ã‚ãªãŸã®**å›°ã£ãŸ**ã‚’ãã£ã¨è§£æ±ºã—ã¦ãã‚Œã‚‹ã§ã—ã‚‡ã†
- [NervesJP](https://join.slack.com/t/nerves-jp/shared_invite/zt-9vteokip-iVAqi8TkT0ID_uK9dSqVHA) Slack workspaceã§ã¯ã€[Nerves](https://www.nerves-project.org/)ã‚„IoTãŒå¥½ããªæ„‰å¿«ãªfolksãŸã¡ãŒã‚ãªãŸã®è¨ªã‚Œã‚’æ­“è¿ã—ã¾ã™ :tada:
- ãŸãã•ã‚“ã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãŒã‚ã‚Šã¾ã™
    - @kn339264 ã•ã‚“ä½œã®ç´ æ•µãªè³‡æ–™ã‚’ã”ç´¹ä»‹ã—ã¾ã™
    - [Elixirã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ ã®æ­©ãæ–¹ã€œå›½å†…ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ç·¨ã€œ](https://speakerdeck.com/elijo/elixirkomiyunitei-falsebu-kifang-guo-nei-onrainbian) :clap::clap_tone1::clap_tone2::clap_tone3::clap_tone4::clap_tone5:

![FCOvBkAUYAE6mL8.jpeg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/a277d0ea-2780-d9a3-4062-66d38b175125.jpeg)
@piacerex ã•ã‚“ä½œ :pray::pray_tone1::pray_tone2::pray_tone3::pray_tone4::pray_tone5:

---

# 2021/12/20 22:19è¿½è¨˜

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2021-12-20 22.19.20.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/e48b8304-0ae5-4474-89ce-975d7562c153.png)

:tada::tada::tada::tada::tada::tada:


::: note
ã“ã®è¨˜äº‹ã¯ã€ä»Šå¾Œå°†æ¥ã©ãªãŸã‹ãŒã€ç§ã¨åŒã˜ã“ã¨ã‚’ã‚°ã‚°ã£ã¦ã‚³ã‚³ã«ãŸã©ã‚Šã¤ãã€ãã®æ–¹ã®æ™‚é–“ã‚’æ•‘ã†ã“ã¨ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚
ã‚°ã‚°ã£ã¦ãŸã©ã‚Šç€ã„ãŸæ–¹ã¯ãœã²ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ã«è¶³è·¡(å¤ã„:interrobang:)ã‚’æ®‹ã—ã¦ãã ã•ã„ã€‚
:::

ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸ :footprints::footprints::footprints: 
