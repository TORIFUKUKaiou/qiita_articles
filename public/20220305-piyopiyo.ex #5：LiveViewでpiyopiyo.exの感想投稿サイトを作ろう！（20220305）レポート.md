---
title: 'piyopiyo.ex #5ï¼šLiveViewã§piyopiyo.exã®æ„Ÿæƒ³æŠ•ç¨¿ã‚µã‚¤ãƒˆã‚’ä½œã‚ã†ï¼ï¼ˆ2022/03/05ï¼‰ãƒ¬ãƒãƒ¼ãƒˆ'
tags:
  - Elixir
  - Phoenix
  - LiveView
  - AdventCalendar2022
private: false
updated_at: '2022-04-03T22:48:19+09:00'
id: 226aad121709c21168d5
organization_url_name: fukuokaex
slide: false
ignorePublish: false
---
**å›ãŒãŸã‚æ˜¥ã®é‡ã«ã„ã§ã¦è‹¥èœæ‘˜ã‚€ã‚ãŒã“ã‚ã‚‚æ‰‹ã«é›ªã¯é™ã‚Šã¤ã¤**


---

Advent Calendar 2022 64æ—¥ç›®[^1]ã®è¨˜äº‹ã§ã™ã€‚
I'm looking forward to 12/25,2022 :santa::santa_tone1::santa_tone2::santa_tone3::santa_tone4::santa_tone5:
ç§ã®[Advent Calendar 2022 ä¸€è¦§](https://docs.google.com/spreadsheets/d/1HQvFjagQLRPjOYAjDVzWp9S4b8dKixxvvaz_TtbZWto/edit#gid=1723448955)ã€‚

[^1]: @kaizen_nagoya ã•ã‚“ã®ã€Œ[ã€Œ@e99h2121 ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã§ã¯ã‚ã‚Šã¾ã™ã¾ã„ã‹ Advent Calendar 2020ã€ã®æ”¹è¨‚ç‰ˆã§ã¯ã‚ã‚Šã¾ã™ã¾ã„ã‹ Advent Calendar 2022 ï¼‘æ—¥ç›®ã€€Most Breakthrough Generator](https://qiita.com/kaizen_nagoya/items/49ebebee3a0377f3b59b)ã€ã‹ã‚‰ç€æƒ³ã‚’å¾—ã¦ã€æ¨¡å€£ã„ãŸã—ã¾ã—ãŸã€‚ 

---



# ã¯ã˜ã‚ã«

[Elixir](https://elixir-lang.org/)ã‚’æ¥½ã—ã‚“ã§ã„ã¾ã™ã‹:bangbang::bangbang::bangbang:

2022/03/05(åœŸ)ã¯ã€[**piyopiyo.ex #5ï¼šLiveViewã§piyopiyo.exã®æ„Ÿæƒ³æŠ•ç¨¿ã‚µã‚¤ãƒˆã‚’ä½œã‚ã†ï¼**](https://piyopiyoex.connpass.com/event/238827/)ãŒé–‹å‚¬ã•ã‚Œã¾ã—ãŸã€‚

[YouTube](https://www.youtube.com/watch?v=m9-EGAGdZjk)ã§é…ä¿¡ :video_camera: ã•ã‚Œã¦ã„ã¾ã—ãŸ:rocket::rocket::rocket:
ç§ã¯ã€[YouTube](https://www.youtube.com/watch?v=m9-EGAGdZjk)ã‹ã‚‰å‚åŠ ã—ã¾ã—ãŸã€‚

[elixir.jp](https://join.slack.com/t/elixirjp/shared_invite/zt-ae8m5bad-WW69GH1w4iuafm1tKNgd~w) Slackã®`#piyopiyo-ex`ãƒãƒ£ãƒ³ãƒãƒ«ã«å…¥ã£ã¦ã„ã‚‹ã¨ã‚ˆã‚Šæ¥½ã—ã‚ã¾ã™ã€‚


# 12:30 é–‹å§‹ Let's get started!!!

ä¸»å‚¬è€…ãŠäºŒäººã‹ã‚‰ã®è‡ªå·±ç´¹ä»‹ã€‚

@kn339264 ãªã“ã•ã‚“
@t-yamanashi ãƒ¯ã‚¤ã‚¨ãƒ ã‚¨ãƒŒã•ã‚“(ymn)

ãã—ã¦
@piacerex ãƒ”ã‚¢ã¡ã‚ƒã‚“


# äº‹å‰æº–å‚™

ä»Šå›ã®ã‚¤ãƒ™ãƒ³ãƒˆã§ã¯ã€ä»¥ä¸‹ãŒã§ãã¦ã„ã‚‹ã“ã¨ãŒå‰æã§ã™ã€‚

## PostgreSQL

PostgreSQLã¯ã€Dockerã§èµ·å‹•ã™ã‚‹ã¨æ¥½ã ã¨ãŠã‚‚ã„ã¾ã™ã€‚

```
docker run -d --rm -p 5432:5432 -e POSTGRES_USER=postgres -e POSTGRES_PASSWORD=postgres postgres:13
```
## [Elixir](https://elixir-lang.org/)

[Elixir](https://elixir-lang.org/) ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚

## [Phoenix](https://www.phoenixframework.org/)ã‚¢ãƒ—ãƒªã®ä½œæˆ

```
mix local.hex
mix archive.install hex phx_new
mix phx.new piyopiyoex_portal
cd piyopiyoex_portal
mix setup

mix phx.server
```

ç§ã¯ä»¥ä¸‹ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ã„ã¾ã—ãŸã€‚

- Elixir 1.13.1-otp-24
- Erlang 24.2
- Phoenix 1.6.6

[Phoenix](https://www.phoenixframework.org/)ã¯ã€1.6ç³»ã‚’ä½¿ã†ã¨ä¸€ç•ªãƒˆãƒ©ãƒ–ãƒ«ãªãã™ã™ã‚ã‚‰ã‚Œã‚‹ã¨ãŠã‚‚ã„ã¾ã™ã€‚
ã¨ã„ã†ã“ã¨ã§ã€Elixirã¯1.12 or laterãŒå¿…è¦ã§ã™ã€‚


---

# ä»•æ§˜æ¤œè¨

@kn339264 ã•ã‚“ã¨ @t-yamanashi ã•ã‚“ã€ãŸã¾ã« @piacerex ã•ã‚“ã‚‚å‚åŠ ã—ã¦ã€æ¤œè¨ã‚’ã—ã¾ã—ãŸã€‚
ãã®æ§˜å­ã‚’æ¿€å†™ã—ã¾ã—ãŸã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-03-05 12.45.50.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/971fb085-203b-01e5-932e-b0ca6cdb3cbf.png)

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-03-05 12.53.08.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/f1a999b9-29e1-d57b-5d7e-24d5ee446f8f.png)

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-03-05 12.57.41.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/a8d28e3d-3c5c-f9ea-20a8-2f01116ce282.png)

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-03-05 13.04.44.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/d6e5a22d-447c-e661-8a12-cba8125830d3.png)

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-03-05 13.06.29.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/d859256c-a95f-2a0d-0872-1df1a585b00b.png)


## ãƒ‡ãƒ—ãƒ­ã‚¤

ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã‚’æ¤œè¨ã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-03-05 13.20.02.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/79e526f9-99d2-569d-43bd-01acd1a0cbce.png)

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ :closed_lock_with_key:

ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ :closed_lock_with_key: ã‚‚æ¤œè¨ã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-03-05 13.28.37.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/4396c09c-1655-5e3d-31eb-ad4bfe53332c.png)

## 13:33

ãƒãƒ£ã‚¤ãƒ  :bell: ãŒé³´ã£ã¦ã€@kn339264 ãªã“ã•ã‚“ã¯ã€å®…é…ç‰©ã‚’ä¸€ç¬å–ã‚Šã«è¡Œãã¾ã—ãŸã€‚

## ç›¸æ£’

**ãƒãƒƒãƒ”ãƒ¼ãƒãƒƒã‚µãƒ¼ã‚¸ãƒ£ãƒ¼**

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-03-05 13.36.21.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/be6dc228-5cf3-c423-3bb1-6fedee5df616.png)

## 13:37

æ®‹ã‚Šæ™‚é–“23åˆ† :watch:
ã“ã“ã‹ã‚‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°é–‹å§‹ã§ã™ã€‚
æœãŸã—ã¦é–“ã«åˆã†ã®ã‹ï¼Ÿ
é–“ã«åˆã†ã‚“ã§ã™ï¼ï¼ï¼ :rocket::rocket::rocket: 

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-03-05 13.39.16.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/d7d7b6a2-9aa1-40bb-e96d-5a9d277e1ec1.png)

### è¦ªã®é¡”ã‚ˆã‚Šã‚ˆãè¦‹ã‚‹ã§ã‚ã‚ã†[Phoenix](https://www.phoenixframework.org/)ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆç”»é¢

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-03-05 13.42.05.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/80907c93-de2e-1a20-6ab6-de665fa2f85b.png)

### `mix phx.gen.live` ã‚³ãƒãƒ³ãƒ‰

```bash
mix phx.gen.live Messages Message messages display_name:string message:text deleted_at:naive_datetime
```

### lib/piyopiyoex_portal_web/router.ex ã‚’å¤‰æ›´

ä¸Šè¨˜ã€`mix phx.gen.live` ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨æœ€å¾Œã®ã»ã†ã«ã§ã¦ãã‚‹ã‚¬ã‚¤ãƒ‰ã‚’ãã®ã¾ã¾ã‚³ãƒ”ãƒšã™ã‚Œã°ã‚ˆã„ã§ã™ã€‚

```elixir:lib/piyopiyoex_portal_web/router.ex
  scope "/", PiyopiyoexPortalWeb do
    pipe_through :browser

    get "/", PageController, :index
    live "/messages", MessageLive.Index, :index
    live "/messages/new", MessageLive.Index, :new
    live "/messages/:id/edit", MessageLive.Index, :edit

    live "/messages/:id", MessageLive.Show, :show
    live "/messages/:id/show/edit", MessageLive.Show, :edit
  end
```

### mix ecto.migrate

ã“ã‚Œã‚‚ã€`mix phx.gen.live` ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸæœ€å¾Œã«ã§ã¦ãã¾ã™ã€‚
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«å¤‰æ›´å†…å®¹ã‚’ä¼ãˆã¾ã™ã€‚
ä¿—ã«ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã„ã‚ã‚Œã‚‹ã‚‚ã®ã§ã™ã€‚

```
mix ecto.migrate
```

### mix phx.server

å†åº¦ã€ `mix phx.server`ã‚’èµ·å‹•ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
http://localhost:4000/messages ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-03-05 13.47.19.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/b04b740b-1a82-0085-bd7b-a0d9c7f58ad0.png)

ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ä¸€è¦§ã€ä½œæˆã€ç·¨é›†ã€å‰Šé™¤ã®ä¸€é€šã‚Šã®æ©Ÿèƒ½ãŒã€ã‚³ãƒãƒ³ãƒ‰ã²ã¨ã¤ã§ã§ãã‚ãŒã£ã¦ã„ã¾ã™ :rocket::rocket::rocket:
ã¨ã„ã†ã“ã¨ã§ã€ã‚¤ãƒ™ãƒ³ãƒˆã®æ™‚é–“å†… :watch: ã«ã™ã¹ã¦ã®äºˆå®šãŒ **é–“ã«åˆã„ã¾ã—ãŸ** :tada::tada::tada:    

# ã‚¤ãƒ™ãƒ³ãƒˆã®æ„Ÿæƒ³

å‚åŠ è€…ã‹ã‚‰å¯„ã›ã‚‰ã‚ŒãŸæ„Ÿæƒ³ã‚’å³é¸ã—ã¦ã€è¼‰ã›ã¦ãŠãã¾ã™ï¼ï¼ï¼

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">ç”»é¢è¨­è¨ˆã«ã¤ã„ã¦ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã—ã¦ã„ã‚‹ã¨ã“ã‚ã‚’ã‚„ã£ã¦ãã‚Œã‚‹ã®ãŒ è‰¯ã„ãªãã€‚é€²è¡ŒãŒè‰¯ã„ã€‚æµã‚Œã‚’é®ã‚‰ãšã«ã‚´ãƒ¼ãƒ«ã«å°ã„ã¦ã‚‹ã€‚<a href="https://twitter.com/hashtag/piyopiyoex?src=hash&amp;ref_src=twsrc%5Etfw">#piyopiyoex</a></p>&mdash; Yuichi Onodera (@mokemoke6502) <a href="https://twitter.com/mokemoke6502/status/1499962890912436225?ref_src=twsrc%5Etfw">March 5, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

---

**ç’°å¢ƒæ§‹ç¯‰ã‚’æ‰‹åšãã‚µãƒãƒ¼ãƒˆã€‚**


![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-03-05 14.23.40.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/8ef2b899-04f1-3639-5480-871d06d5efac.png)



# æ¬¡å›äºˆå‘Š

**æ¬¡å›ã¯ä½œã£ãŸãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ãƒ¬ãƒ¼ãƒ ã«æ²¿ã£ã¦å®Ÿè£…ã‚’ã—ã¾ã™ï¼**
ã¨ã®ã“ã¨ã§ã™ã€‚

2022/04/02(åœŸ) 12:30 ã€œ ã®é–‹å‚¬ã§ã™ã€‚

https://piyopiyoex.connpass.com/event/241590/

[piyopiyo.ex #6ï¼šLiveViewã§piyopiyo.exã®æ„Ÿæƒ³æŠ•ç¨¿ã‚µã‚¤ãƒˆã‚’ä½œã‚ã†ï¼ç¶šã](https://piyopiyoex.connpass.com/event/241590/)

---

<font color="purple">$\huge{ã•ã‚ˆã†ãªã‚‰ã€œ}$</font>

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-03-05 14.03.21.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/4ffdf77b-654d-6f54-1638-84d0801213ef.png)


---

# Wrapping up :lgtm::lgtm::lgtm::lgtm::lgtm:

Enjoy [Elixir](https://elixir-lang.org/):bangbang::bangbang::bangbang:
<font color="purple">$\huge{Enjoy\ ElixirğŸš€}$</font>

2022/03/05(åœŸ)ã«é–‹å‚¬ã•ã‚ŒãŸã€[**piyopiyo.ex #5ï¼šLiveViewã§piyopiyo.exã®æ„Ÿæƒ³æŠ•ç¨¿ã‚µã‚¤ãƒˆã‚’ä½œã‚ã†ï¼**](https://piyopiyoex.connpass.com/event/238827/)ã®ãƒ¬ãƒãƒ¼ãƒˆã‚’æ›¸ãã¾ã—ãŸã€‚

[elixir.jp](https://join.slack.com/t/elixirjp/shared_invite/zt-ae8m5bad-WW69GH1w4iuafm1tKNgd~w) Slackã®`#piyopiyo-ex`ãƒãƒ£ãƒ³ãƒãƒ«ã«**Let's join us! (ã‚Œã£ã¤ã˜ã‚‡ã„ãªã™)**


ä»¥ä¸Šã§ã™ã€‚





