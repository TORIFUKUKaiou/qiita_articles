---
title: Map.filter/2ã‚’æ¥½ã—ã¿ã¾ã™ï¼ˆElixirï¼‰
tags:
  - Elixir
  - 40ä»£é§†ã‘å‡ºã—ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢
  - autoracex
  - AdventCalendar2022
private: false
updated_at: '2022-04-02T23:12:30+09:00'
id: af414fe231ced551815e
organization_url_name: fukuokaex
slide: false
---
**ã²ã•ã‹ãŸã®å…‰ã®ã©ã‘ãæ˜¥ã®æ—¥ã«ã—ã¥å¿ƒãªãèŠ±ã®æ•£ã‚‹ã‚‰ã‚€**

ã“ã®æ­Œã¯ã€ç§ãŒå­¦ã‚“ã å°å­¦æ ¡ã®å›½èªã®æ•™ç§‘æ›¸ã«è¼‰ã£ã¦ã„ã¾ã—ãŸã€‚
ãã‚‰ã§è¨€ãˆã¾ã™ã€‚

---

Advent Calendar 2022 83æ—¥ç›®[^1]ã®è¨˜äº‹ã§ã™ã€‚
I'm looking forward to 12/25,2022 :santa::santa_tone1::santa_tone2::santa_tone3::santa_tone4::santa_tone5:
ç§ã®[Advent Calendar 2022 ä¸€è¦§](https://docs.google.com/spreadsheets/d/1HQvFjagQLRPjOYAjDVzWp9S4b8dKixxvvaz_TtbZWto/edit#gid=1723448955)ã€‚

[^1]: @kaizen_nagoya ã•ã‚“ã®ã€Œ[ã€Œ@e99h2121 ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã§ã¯ã‚ã‚Šã¾ã™ã¾ã„ã‹ Advent Calendar 2020ã€ã®æ”¹è¨‚ç‰ˆã§ã¯ã‚ã‚Šã¾ã™ã¾ã„ã‹ Advent Calendar 2022 ï¼‘æ—¥ç›®ã€€Most Breakthrough Generator](https://qiita.com/kaizen_nagoya/items/49ebebee3a0377f3b59b)ã€ã‹ã‚‰ç€æƒ³ã‚’å¾—ã¦ã€æ¨¡å€£ã„ãŸã—ã¾ã—ãŸã€‚ 

---



# ã¯ã˜ã‚ã«

[Elixir](https://elixir-lang.org/)ã‚’æ¥½ã—ã‚“ã§ã„ã¾ã™ã‹:bangbang::bangbang::bangbang:

ä»Šæ—¥ã¯ã€[Map.filter/2](https://hexdocs.pm/elixir/Map.html#filter/2)ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

# å‹•æ©Ÿ

[Map.filter/2](https://hexdocs.pm/elixir/Map.html#filter/2)ã‚’ç´¹ä»‹ã—ã‚ˆã†ã¨ãŠã‚‚ã£ãŸå‹•æ©Ÿã§ã™ã€‚

- ä½¿ç”¨ã—ãŸã“ã¨ãŒãªã„
- [Elixir](https://elixir-lang.org/) 1.13.0ã§è¿½åŠ ã•ã‚ŒãŸé–¢æ•°
- Advent Calendar 2022 goes behind 7 days. :sweat_smile:

# [Map.filter/2](https://hexdocs.pm/elixir/Map.html#filter/2)

å…¬å¼ã®èª¬æ˜ã‚’ãã®ã¾ã¾æ²è¼‰ã—ã¾ã™ã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-03-30 8.47.21.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/d642d8f5-86c0-eca7-a057-cea8f1dd4a47.png)



ã‚µãƒ³ãƒ—ãƒ«ã‚’è²¼ã£ã¦ãŠãã¾ã™ã€‚

```elixir
iex> Map.filter(%{one: 1, two: 2, three: 3}, fn {_key, val} -> rem(val, 2) == 1 end)
%{one: 1, three: 3}
```

ä¸Šè¨˜ã®ä¾‹ã§ã¯ã€å€¤ãŒå¥‡æ•°ã§ã‚ã‚‹è¦ç´ ã‚’Mapã«æ®‹ã™ã“ã¨ã«ãªã‚Šã¾ã™ã€‚
ç¬¬2å¼•æ•°ã®é–¢æ•°ã¯ã€å„è¦ç´ ã‚’ã‚¿ãƒ—ãƒ«ã§`{ã‚­ãƒ¼, å€¤}`ã‚’å—ã‘å–ã‚Šã¾ã™ã€‚
é–¢æ•°ã®çµæœã§Truthyãªã‚‚ã®ã‚’è¿”ã—ãŸè¦ç´ ãŒMapã«æ®‹ã‚Šã¾ã™ã€‚


## Truthyã€Falsy

Truthyã€Falsyã«ã¤ã„ã¦ã¯ã€å…¬å¼ã®[Truthy and falsy values](https://hexdocs.pm/elixir/Kernel.html#module-truthy-and-falsy-values)ã‚’ã”å‚ç…§ãã ã•ã„ã€‚

- `nil`ã¨`false`ãŒFalsyã§ã™
- ä¸Šè¨˜ä»¥å¤–ã¯ã€Truthyã§ã™

## Note

@mnishiguchi ã•ã‚“ã«é‡è¦ãªãƒã‚¤ãƒ³ãƒˆã‚’æ•™ãˆã¦ã„ãŸã ãã¾ã—ãŸã€‚
è¿½è¨˜ã—ã¦ãŠãã¾ã™ã€‚
å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®`Note`ã§ã™ã€‚

:::note info
if you find yourself doing multiple calls to Map.filter/2 and Map.reject/2 in a pipeline, it is likely more efficient to use Enum.map/2 and Enum.filter/2 instead and convert to a map at the end using Map.new/1.
:::

> ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®ä¸­ã§ä½•åº¦ã‚‚Map.filter/2ã‚„Map.reject/2ã‚’ã™ã‚‹ãã‚‰ã„ãªã‚‰ã€ãã®ã‹ã‚ã‚Šã«Enum.map/2ã‚„Enum.filter/2ã‚’ä½¿ã£ã¦æœ€å¾Œã«Map.new/1ã§Mapã«ã™ã‚‹ã»ã†ãŒåŠ¹ç‡çš„ã§ã™ã€‚


# [Map.reject/2](https://hexdocs.pm/elixir/Map.html#reject/2)

[Map.filter/2](https://hexdocs.pm/elixir/Map.html#filter/2)ãŒã‚ã‚Œã°ã€[Map.reject/2](https://hexdocs.pm/elixir/Map.html#reject/2)ã‚‚ã‚ã‚‹ã ã‚ã†ï¼ :rocket: 

```elixir
iex> Map.reject(%{one: 1, two: 2, three: 3}, fn {_key, val} -> rem(val, 2) == 1 end)
%{two: 2}
```

ã‚ã‚Šã¾ã—ãŸ :tada::tada::tada: 

ä¸Šè¨˜ã®ä¾‹ã§ã¯ã€å€¤ãŒå¥‡æ•°ã§ã¯ãªã„ï¼ˆã¤ã¾ã‚Šå¶æ•°ã§ã‚ã‚‹ï¼‰è¦ç´ ã‚’Mapã«æ®‹ã™ã“ã¨ã«ãªã‚Šã¾ã™ã€‚
ç¬¬2å¼•æ•°ã®é–¢æ•°ã¯ã€å„è¦ç´ ã‚’ã‚¿ãƒ—ãƒ«ã§`{ã‚­ãƒ¼, å€¤}`ã‚’å—ã‘å–ã‚Šã¾ã™ã€‚
é–¢æ•°ã®çµæœã§Falsyãªã‚‚ã®ã‚’è¿”ã—ãŸè¦ç´ ãŒMapã«æ®‹ã‚Šã¾ã™ã€‚

Truthyã€Falsyã«ã¤ã„ã¦ã¯ã€å…¬å¼ã®[Truthy and falsy values](https://hexdocs.pm/elixir/Kernel.html#module-truthy-and-falsy-values)ã‚’ã”å‚ç…§ãã ã•ã„ã€‚

- `nil`ã¨`false`ãŒFalsyã§ã™
- ä¸Šè¨˜ä»¥å¤–ã¯ã€Truthyã§ã™


---

# Wrapping up :lgtm::lgtm::lgtm::lgtm::lgtm:

Enjoy [Elixir](https://elixir-lang.org/):bangbang::bangbang::bangbang:
<font color="purple">$\huge{Enjoy\ ElixirğŸš€}$</font>

æœ¬æ—¥ã¯ã€ä»¥ä¸‹ã‚’ã”ç´¹ä»‹ã—ã¾ã—ãŸã€‚


- [Map.filter/2](https://hexdocs.pm/elixir/Map.html#filter/2)
- [Map.reject/2](https://hexdocs.pm/elixir/Map.html#reject/2)
- [Truthy and falsy values](https://hexdocs.pm/elixir/Kernel.html#module-truthy-and-falsy-values) ã¯ã”ä¸€èª­ã‚’ã‚ªã‚¹ã‚¹ãƒ¡ã—ã¾ã™



ä»¥ä¸Šã§ã™ã€‚

