---
title: 本格わら納豆づくりで関数型プログラミング言語ElixirのIoTフレームワークNervesを活用した話
tags:
  - Elixir
  - ポエム
  - Nerves
  - 猪木
  - 闘魂
private: false
updated_at: '2025-12-25T09:46:48+09:00'
id: 925065aab28f24975cd3
organization_url_name: haw
slide: false
ignorePublish: false
---
## はじめに
Qiitaに「納豆づくり?」何のこと? と思われると思います。そうせかせかしなさんなって。たまにはこんな記事もいいではありませんか。目に見えない縁起によってあなたはこの記事にたどり着いたのです。せっかくなので最後までごゆるりとしていってください。

## 2025年
2025年は令和の米騒動とも呼ばれる世情騒然として年でありました。「**米**担当大臣の思いで」と取り組まれた方が、次期総理（正確にはその前に党の総裁）になると多くのオールドメディアが報じる中、初の女性首相が誕生した年でありました。歴史とは後世の歴史家が語るものでその評価は10年、100年と経たないとわかりませんが、2025年はひとつの節目であったのかもしれません。

100年後の人がこれを読んだときに、さも意味のありそうなことを書きつけておきます。市井の人の意見です。歴史家の目に留まることを期待しています。

## 私の2025年
話を卑近なところ、つまり私にふりますと、今年は3つのことにはまりました。
1. 将棋
1. 山下清
1. 米づくり

将棋は、将棋ウォーズで初段になりました。やっとなりました。数えてみると9年かかっていました。詰将棋を中心にほぼ毎日かかさず将棋のことに取り組んでいた年でした。ただ、棋神（ゲームの中で使えるアイテムで、プレイヤーのかわりに5手指してくれる。相手の手も含めると10手先に戻されるのだが、さらに難解な局面となっていることが何回もある）をところどころ使っての昇段なので、現在は初段の達成率が20%を切る、いわゆる地下に潜っている状態です。1級で100%になると初段になるわけですが、それがイコール初段20%なのです。

https://note.com/awesomey/n/n3523082881bf

気付いたことがひとつありまして、私には将棋の才能が全くといっていいほどありませんでした。ちょっとルールを覚えただけで初段くらいは軽く通過する人がいる一方で、私のように9年もかかる人がいます。技術の世界も同じで少し文法を覚えただけで、なにかアプリケーションを作ってしまう人もいるし、なかなかプログラミングを理解できない人もいます。私はもう20年以上、この世界にいます。末席とは言え、基本的なプログラミングのことで初心者の方のわからないところがわからなくなってしまっています。基礎的なことを尋ねられるという事態に接ししたときに、私は人間が練れておりませんし、なっておりませんのでイライラして、そしてそれが態度に現れ、初学者を萎縮させてしまったことが多々あったと思います。本当に申し訳ない気持ちでいっぱいですが、もう過去は取り返せません。

将棋とどう関係があるのかというと、初段というのは、駒の動かし方を知っているというだけの人にはほぼ無双するレベルではありますが、将棋を指す人全体からするとちょうど平均くらいの実力なのです。上には上がいて、「どうして9手詰めがとけないのですか」「どうして詰みを見逃しているのですか」「どうしてそんな変な手を指すのですか」と言われるようなことを一局の間に私は何度もしているわけです。幸い私の師匠は、本やYouTuberだけで教室に通ったりしているわけではないのでそんなことを言われはしないのですが、ふとしたときに思ったのです。プログラミングを教えているときの自分がまさにこれをやっているのではないか、と。指導には厳しさも必要ですが、私は初級者の方に高いレベルを求めすぎたかもしれません。しかし私くらいのレベルはやすやすと超えてほしいとも思っています。そうしないと日本は後進のまま、失われた30年を取り戻せません。と、主語のでかいことを言います。私一人のあがきではなにもかわらないでしょうが、あがくことが生きることなのだろうと思います。と、悟ったようなことを書いておきます。

話が飛びます。放浪します。放浪の天才画家、山下清画伯の日記をまとめたものが近所の図書館に蔵されていました。貪るように読みました。おもしろい。自由、自然児。しつこい。根気強い。だからあれだけの大作を残された。私はあえて「清ちゃん」と呼びます。近しい人がそう呼んでいたようです。私も「清ちゃん」のような自由で、カレーライスは2杯じゃないと不機嫌になる ーー いい意味で裏表の無い人間になりたいと思います。「清ちゃん」は放浪先で、「むすび」を所望します。「むすび」の原材料はもちろん「米」です。ちなみに「清ちゃん」も将棋が好きでした。

前に述べたように、今年は令和の米騒動とも呼ばれる年になりました。ひょんなことから無農薬、田植え、鎌による稲刈り、すべて昔ながらの手作業で行う米作りに参加させていただきました。体験です。たった3日のうち半日程度作業をしただけです。それでは何も農業のことは語れません。たいへんさだけがわかりました。私の師であるアントニオ猪木さんや吉田松陰先生は、感受性が豊かな幼少期に土と触れ合い、自然と触れ合われてきました。そうした原体験がのちの大偉業と繋がっているのではないか、そんな気がしてなりません。そこのところをうまく言葉でまだ説明できませんが、この直感は大筋合っているものと思っています。そこをつなぐsomethingをつむげるようになりましたらまたお披露目したいと思います。

話を戻します。田植え、夏の草取り、秋の稲刈り🌾、たったの3日だけの体験をしただけですが、「令和の米騒動」の年だからこそなにか不思議なものを感じます。無農薬で作って、鎌でかった稲の茎の部分を干すと藁となり、これが納豆づくりに欠かせないのです。 **無農薬というのがポイント** です。

## わら納豆づくり
[【注意点も】藁をつかった昔ながらの納豆の作り方](https://miu-organic.com/nattou_recipe)

こちらの記事が詳しいです。

1. 大豆を水に浸す（24時間）
1. 大豆をゆでる（6時間）
1. わらを熱湯消毒する（湯がく）
1. 大豆をわらといっしょに40度くらいで保温する（24時間）
1. 冷蔵庫で寝かせる（24時間）

私はこの工程の中で、4番の工程の温度管理が大事だと思いました。発泡スチロールの箱の中に湯たんぽや湯をいれたガラス瓶をいれ保温しました。発泡スチロールの箱の中にはAHT20(温度・湿度センサー)をRaspberry Pi 4に取り付けた機器をいれ、温度の計測を行いました。Raspberry Pi 4上でうごくソフトウェアは[Elixir](https://elixir-lang.org/)製のIoTフレームワーク[Nerves](https://nerves-project.org/)で作ったアプリケーションです。

ソースコードはすべて https://github.com/TORIFUKUKaiou/hello_iot_cloud2023 にあります。

- `hello_nerves`がRaspberry Pi 4に焼き込むNervesアプリです
- `aht20_tracker` がElxiir製のWebアプリケーションフレームワーク[Phoenix](https://www.phoenixframework.org/)で作ったAPIサーバ + Grafanaでのグラフ表示モジュールです

ふだんはそれほど意味もなく、所在なさげに私の居室の温度・湿度を測っています。発泡スチロールの箱の中に入れたときはここぞとばかりに正確に温度をけなげにAPIサーバへ送り込んでくれていました。

![スクリーンショット 2025-11-30 18.44.06.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/c85fbb7b-38d9-42aa-8dc6-7be0f72caa84.png)

そして出来上がったわら納豆がこちらです。おいしくいただきました。Qiitanも「おいしそうだ」と言ってくれた気がしました。

![2025-11-30_18-10-22_241.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/131808/a5048405-7065-47ec-843a-4bef46971690.jpeg)

## さいごに
2025年を振り返ってみました。今年を私がどうみていたのか、私の身のまわりの出来事を振り返ってみました。

昔ながらのわら納豆づくりにおいて温度管理を[Nerves](https://nerves-project.org/)アプリケーションで行う ーー 完全に[Nerves](https://nerves-project.org/)に関係のある話題でしたので、「[#NervesJP Advent Calendar 2025](https://qiita.com/advent-calendar/2025/nervesjp)」に投稿（闘魂）しました。

最近はTVアニメの「美味しんぼ」にはまっています。それは次回のアドベントカレンダー2026に世評とともに書きます。

https://dev.to/torifukukaiou/using-elixir-nerves-iot-framework-for-traditional-straw-wrapped-natto-making-4b0
