---
title: 'AtCoder ABC081Bã€ABC051Bã€ABC045Cã‚’Elixirã§è§£ã '
tags:
  - Elixir
private: false
updated_at: '2021-01-03T14:34:30+09:00'
id: f736f4f0d47963ec86a9
organization_url_name: fukuokaex
slide: false
---
# ã¯ã˜ã‚ã«
- [Elixir](https://elixir-lang.org/) æ¥½ã—ã‚“ã§ã„ã¾ã™ã‹ :bangbang::bangbang::bangbang:
- [AtCoder](https://atcoder.jp/) [ABC081B](https://atcoder.jp/contests/abc081/tasks/abc081_b)ã€[ABC051B](https://atcoder.jp/contests/abc051/tasks/abc051_b)ã€[ABC045C](https://atcoder.jp/contests/abc045/tasks/arc061_a)ã‚’[Elixir](https://elixir-lang.org/)ã§è§£ã„ã¦ã¿ã¾ã™

# What is [AtCoder](https://atcoder.jp/)?
- ä¸–ç•Œæœ€é«˜å³°ã®ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚µã‚¤ãƒˆã§ã™
- ã ã„ãŸã„æ¯é€±åœŸæ›œã‚„æ—¥æ›œã®21æ™‚ã™ãã«ã‚³ãƒ³ãƒ†ã‚¹ãƒˆãŒè¡Œã‚ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™
- å‡ºé¡Œã•ã‚ŒãŸå•é¡Œã®ç­”ãˆã‚’å‡ºåŠ›ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æ›¸ã„ã¦æå‡ºã™ã‚‹ã“ã¨ã§è‡ªå‹•çš„ã«æ¡ç‚¹ã•ã‚Œã¾ã™
- å®Ÿè¡Œæ™‚é–“ãŒé•·ã‹ã£ãŸã‚Šã€ãƒ¡ãƒ¢ãƒªã®ä½¿ç”¨é‡ãŒå¤šã„ã¨ãƒ‘ã‚¹ã§ãã¾ã›ã‚“
- ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã¨ã„ã†ã‚‚ã®è‡ªä½“ã«ç§ã¯é¦´æŸ“ã¿ãŒãªã‹ã£ãŸã®ã§ã™ãŒã€æœ€è¿‘ã¯ã˜ã‚ã¾ã—ãŸ 

## ã¯ã˜ã‚ã¦ã®æ–¹ã¯
- [Elixir](https://elixir-lang.org/)ã§[AtCoder](https://atcoder.jp/)ã«ã¯ã˜ã‚ã¦å–ã‚Šçµ„ã¾ã‚Œã‚‹æ–¹ã¯ã€æ‰‹å‰å‘³å™Œã§ã™ãŒã€ã€Œ[AtCoderã‚’Elixirã§ã‚„ã£ã¦ã¿ã‚‹](https://zenn.dev/torifukukaiou/articles/ac84c87736ceebf4da01)ã€ã‚’ã”å‚ç…§ãã ã•ã„
    - ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã®èª­ã¿å–ã‚Šæ–¹ãªã©ã®Tipsã‚’æ›¸ã„ã¦ã„ã¾ã™
- [Elixir](https://elixir-lang.org/)è‡ªä½“ãŒã¯ã˜ã‚ã¦ã®æ–¹ã¯ã¾ãšã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ã‚‡ã† :bangbang::bangbang::bangbang:
    - æ‰‹å‰å‘³å™Œã§ã™ãŒ[ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](https://qiita.com/torifukukaiou/items/d04d0273749c41eb50af#0-%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB)ãªã©ã‚’ã”å‚ç…§ãã ã•ã„

# ä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«
- [tamanugi/ex_at_coder](https://github.com/tamanugi/ex_at_coder)
    - @tamanugiã•ã‚“ä½œ
    - [AtCoderç”¨ã®mixã‚¿ã‚¹ã‚¯ã‚’ä½œã£ã¦ã¿ãŸ](https://qiita.com/tamanugi/items/f6bb83ef45ea0e4ba98d)
    - [@tamanugiã•ã‚“ã®ex_at_coderã‚’ä½¿ã£ã¦ã¿ã‚‹ (Elixir)](https://qiita.com/torifukukaiou/items/3cb86dede8aefa2cd7c0)
    - æœ¬æ—¥ã¯ã“ã¡ã‚‰ã‚’ä½¿ã„ã¾ã™
- [g-kenkun/kyopuro](https://github.com/g-kenkun/kyopuro)
    - @g_kenkunã•ã‚“ä½œ
    - [@g_kenkunã•ã‚“ã®g-kenkun/kyopuroã‚’ä½¿ã£ã¦ã¿ã‚‹ (Elixir)](https://qiita.com/torifukukaiou/items/0d9af23244d599cb60d0)

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

```
$ mkdir awesome_at_coder
$ cd awesome_at_coder
$ asdf local elixir 1.10.2-otp-22
$ mix new .
```

```elixir:mix.exs
  defp deps do
    [
      # {:dep_from_hexpm, "~> 0.3.0"},
      # {:dep_from_git, git: "https://github.com/elixir-lang/my_dep.git", tag: "0.1.0"}
      {:ex_at_coder, ">0.0.0"}
    ]
  end
```

```
$ mix deps.get
```

# [ABC081B](https://atcoder.jp/contests/abc081/tasks/abc081_b)

```
$ mix atcoder.open abc081 b
```
- å•é¡Œæ–‡ã®ãƒšãƒ¼ã‚¸ãŒãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã‹ã‚Œã¾ã™ :rocket: 
- å•é¡Œã‚’ã”ç¢ºèªãã ã•ã„

```
$ mix atcoder.new abc081
```
- å•é¡Œæ–‡ã®ãƒšãƒ¼ã‚¸ã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚„å›ç­”ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®é››å½¢ãŒä½œã‚‰ã‚Œã¾ã™

## ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã
- è‡ªåˆ†ã‚’ä¿¡ã˜ã¦ãŒã‚“ã°ã£ã¦è§£ãã¾ã—ã‚‡ã†

```elixir:lib/abc081/b.ex
defmodule Abc081.B.Main do
  use Bitwise

  def main() do
    IO.read(:line)
    list = IO.read(:line) |> String.trim() |> String.split(" ") |> Enum.map(&String.to_integer/1)

    0..1_000_000_000
    |> Enum.reduce_while({0, list}, fn _, {acc_cnt, acc_list} ->
      case has_odd?(acc_list) do
        true -> {:halt, {acc_cnt, acc_list}}
        false -> {:cont, {acc_cnt + 1, do_something(acc_list)}}
      end
    end)
    |> elem(0)
    |> IO.puts()
  end

  defp has_odd?(list) do
    Enum.any?(list, &((&1 &&& 1) == 1))
  end

  defp do_something(list) do
    Enum.map(list, &(&1 >>> 1))
  end
end
```

## ãƒ†ã‚¹ãƒˆã™ã‚‹
```
$ mix atcoder.test abc081 b
abc081 b
running 3 test...
-------------------------------------
sample1  AC  1ms
actual:
2
expected:
2
-------------------------------------
sample2  AC  0ms
actual:
0
expected:
0
-------------------------------------
sample3  AC  0ms
actual:
8
expected:
8
```
:tada::tada::tada:

è‡ªä¿¡ã‚’ã‚‚ã£ã¦æå‡ºã—ã¾ã—ã‚‡ã†ã€‚
æå‡ºã®éš›ã«ã¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åã‚’`Main`ã«ã—ã¦[æå‡º](https://atcoder.jp/contests/abc081/submissions/19175603)ã—ã¾ã™ã€‚ 

---

# [ABC051B](https://atcoder.jp/contests/abc051/tasks/abc051_b)

```
$ mix atcoder.open abc051 b
```
- å•é¡Œæ–‡ã®ãƒšãƒ¼ã‚¸ãŒãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã‹ã‚Œã¾ã™ :rocket: 
- å•é¡Œã‚’ã”ç¢ºèªãã ã•ã„

```
$ mix atcoder.new abc051
```
- å•é¡Œæ–‡ã®ãƒšãƒ¼ã‚¸ã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚„å›ç­”ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®é››å½¢ãŒä½œã‚‰ã‚Œã¾ã™

## ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã
- è‡ªåˆ†ã‚’ä¿¡ã˜ã¦ãŒã‚“ã°ã£ã¦è§£ãã¾ã—ã‚‡ã†

```elixir:lib/abc051/b.ex
defmodule Abc051.B.Main do
  def main() do
    [k, s] =
      IO.read(:line) |> String.trim() |> String.split(" ") |> Enum.map(&String.to_integer/1)

    # for(x <- 0..k, y <- 0..k, z = s - x - y, z >= 0, z <= k, do: 1)
    # |> Enum.sum()
    # |> IO.puts()

    0..k
    |> Enum.reduce(0, fn x, acc ->
      Enum.filter(0..k, fn y ->
        z = s - x - y
        z >= 0 && z <= k
      end)
      |> Enum.count()
      |> Kernel.+(acc)
    end)
    |> IO.puts()
  end
end
```

- [for/1](https://hexdocs.pm/elixir/Kernel.SpecialForms.html#for/1)ã‚’ä½¿ã£ã¦æ›¸ãã¨çŸ­ãã‹ã‘ã¾ã™ãŒã€`MLE(Memory Limit Exceeded)`ã«ãªã£ã¡ã‚ƒã£ãŸã®ã§ãƒ‘ã‚¹ã™ã‚‹ã‚ˆã†ã«æ›¸ãã‹ãˆã¾ã—ãŸ

## ãƒ†ã‚¹ãƒˆã™ã‚‹
```
$ mix atcoder.test abc051 b
abc051 b
running 2 test...
-------------------------------------
sample1  AC  0ms
actual:
6
expected:
6
-------------------------------------
sample2  AC  0ms
actual:
1
expected:
1
```
:tada::tada::tada:

è‡ªä¿¡ã‚’ã‚‚ã£ã¦æå‡ºã—ã¾ã—ã‚‡ã†ã€‚
æå‡ºã®éš›ã«ã¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åã‚’`Main`ã«ã—ã¦[æå‡º](https://atcoder.jp/contests/abc051/submissions/19176236)ã—ã¾ã™ã€‚ 

---

# [ABC045C](https://atcoder.jp/contests/abc045/tasks/arc061_a)

```
$ mix atcoder.open abc045 c
```
- å•é¡Œæ–‡ã®ãƒšãƒ¼ã‚¸ãŒãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã‹ã‚Œã¾ã™ :rocket: 
- å•é¡Œã‚’ã”ç¢ºèªãã ã•ã„

```
$ mix atcoder.new abc045
```
- å•é¡Œæ–‡ã®ãƒšãƒ¼ã‚¸ã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚„å›ç­”ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®é››å½¢ãŒä½œã‚‰ã‚Œã¾ã™

## ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã
- è‡ªåˆ†ã‚’ä¿¡ã˜ã¦ãŒã‚“ã°ã£ã¦è§£ãã¾ã—ã‚‡ã†

```elixir:lib/abc045/c.ex
defmodule Abc045.C.Main do
  use Bitwise

  def main() do
    s = IO.read(:line) |> String.trim() |> String.to_integer()
    digits = Integer.digits(s)
    length = Enum.count(digits)

    1..pow(2, length - 1)
    |> Enum.map(fn bit ->
      0..(length - 2)
      |> Enum.reduce([], fn i, acc ->
        case bit &&& 1 <<< i do
          0 -> ["" | acc]
          _ -> ["+" | acc]
        end
      end)
    end)
    |> Enum.map(fn pluses ->
      Enum.with_index(pluses)
      |> Enum.reduce(Enum.intersperse(digits, ""), fn {plus, i}, acc ->
        List.update_at(acc, 2 * i + 1, fn _ -> plus end)
      end)
    end)
    |> Enum.map(&Enum.join/1)
    |> Enum.map(&Code.eval_string/1)
    |> Enum.map(&elem(&1, 0))
    |> Enum.sum()
    |> IO.puts()
  end

  def pow(x, y), do: pow(x, y, 1)

  defp pow(_x, 0, acc), do: acc

  defp pow(x, y, acc), do: pow(x, y - 1, x * acc)
end
```


## ãƒ†ã‚¹ãƒˆã™ã‚‹
```
$ mix atcoder.test abc045 c
abc045 c
running 2 test...
-------------------------------------
sample1  AC  0ms
actual:
176
expected:
176
-------------------------------------
sample2  AC  24ms
actual:
12656242944
expected:
12656242944
```
:tada::tada::tada:

è‡ªä¿¡ã‚’ã‚‚ã£ã¦æå‡ºã—ã¾ã—ã‚‡ã†ã€‚
æå‡ºã®éš›ã«ã¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åã‚’`Main`ã«ã—ã¦[æå‡º](https://atcoder.jp/contests/abc045/submissions/19177752)ã—ã¾ã™ã€‚ 

# Wrapping Up ğŸğŸğŸğŸğŸ
- ç§ã¯ã€ã‚ã¡ã‚ƒãã¡ã‚ƒæ™‚é–“ã‹ã‘ã¦è§£ã„ã¦ã„ã¾ã™ :sweat_smile: 
- å•é¡Œã¯[å•é¡Œè§£æ±ºåŠ›ã‚’é›ãˆã‚‹!ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨ãƒ‡ãƒ¼ã‚¿æ§‹é€ ](https://www.amazon.co.jp/dp/4065128447) :book: ç¬¬3ç« ã®ç« æœ«å•é¡Œã«æŒ™ã’ã‚‰ã‚Œã¦ã„ãŸã‚‚ã®ã‚’ãƒãƒ§ã‚¤ã‚¹ã—ã¾ã—ãŸ
- Enjoy [Elixir](https://elixir-lang.org/) :bangbang::bangbang::bangbang: 
